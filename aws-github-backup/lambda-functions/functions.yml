SyncRepo:
  image:
    name: lambda-repo-sync
  timeout: 60
  memorySize: 256
  # layers:
  #   # https://docs.aws.amazon.com/systems-manager/latest/userguide/ps-integration-lambda-extensions.html#ps-integration-lambda-extensions-add
  #   - arn:aws:lambda:ap-northeast-1:133490724326:layer:AWS-Parameters-and-Secrets-Lambda-Extension:11
  fileSystemConfig:
    localMountPath: /mnt/efs
    arn: !ImportValue ${self:custom.infraStack}-EFSAccessPointArn
  environment:
    GIT_USERNAME: "*********"
    GIT_PASSWORD: ${ssm:GIT_PASSWORD}
  vpc:
    securityGroupIds:
      - !ImportValue ${self:custom.infraStack}-LambdaSecurityGroupId
    subnetIds:
      - !ImportValue ${self:custom.infraStack}-PrivateSubnet1Id
      # - !ImportValue ${self:custom.infraStack}-PrivateSubnet2Id
